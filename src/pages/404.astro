---
import Layout from "../layouts/main.astro";
import Button from "../components/button.astro";
import ChatButton from "../components/chatbutton.astro";
---

<Layout title="404: Lost in the Cosmos">
  <main class="relative z-20 flex flex-col items-center justify-center w-full min-h-screen px-4 py-8 sm:px-6 lg:px-8">
    <div class="w-full max-w-4xl mx-auto space-y-8">
      <!-- Header Section -->
      <div class="text-center animate-in" style="--animation-delay: 0ms;">
        <h1 class="text-6xl font-bold tracking-tighter text-transparent sm:text-7xl lg:text-8xl bg-clip-text bg-gradient-to-tr from-neutral-300 to-neutral-500">
          404
        </h1>
        <h2 class="mt-2 text-xl font-semibold tracking-tight text-neutral-100 sm:text-2xl">
          Congrats! You're lost.
        </h2>
        <p class="mt-3 text-sm text-neutral-400 max-w-2xl mx-auto">
          But my Assistant, A.R.I.A. has some wisdom for you.
        </p>
      </div>

      <!-- Robot Magic 8-Ball -->
      <div class="flex flex-col items-center animate-in" style="--animation-delay: 150ms;">
        <div id="robot-container" class="relative cursor-pointer group">
          <!-- Particles Canvas -->
          <canvas id="particles-canvas" class="absolute inset-0 pointer-events-none" style="width: 200px; height: 200px;"></canvas>
          
          <!-- Simple Bot Icon with Glow -->
          <div id="robot-head" class="relative transition-transform duration-200 group-hover:scale-105">
            <div class="absolute inset-0 bg-neutral-300 rounded-full blur-xl opacity-20 animate-pulse-slow"></div>
            <svg width="200" height="200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="relative z-10 text-neutral-300 drop-shadow-lg">
              <path d="M12 8V4H8"/>
              <rect width="16" height="12" x="4" y="8" rx="2"/>
              <path d="M2 14h2"/>
              <path d="M20 14h2"/>
              <path d="M15 13v2"/>
              <path d="M9 13v2"/>
            </svg>
          </div>
        </div>
        
        <!-- Message Display Bubble -->
        <div class="mt-8 min-h-[100px] flex items-center justify-center">
          <div id="message-bubble" class="relative px-8 py-5 rounded-3xl border border-neutral-700 bg-neutral-900/40 backdrop-blur-sm transition-all duration-300 animate-float">
            <p id="robot-message" class="relative z-10 text-lg sm:text-xl font-medium text-neutral-200 text-center max-w-md transition-opacity duration-300">
              Tap me!
            </p>
          </div>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="flex flex-wrap items-center justify-center gap-4 animate-in" style="--animation-delay: 300ms;">
        <Button text="Return Back Home" link="/" />
        <Button text=" ðŸ’¬ Continue talking to A.R.I.A." link="https://aria-lite.vercel.app/" />
      </div>
    </div>
  </main>
</Layout>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const robotContainer = document.getElementById('robot-container');
    const robotHead = document.getElementById('robot-head');
    const messageDisplay = document.getElementById('robot-message');
    const messageBubble = document.getElementById('message-bubble');
    const particlesCanvas = document.getElementById('particles-canvas');
    const ctx = particlesCanvas.getContext('2d');
    
    // Set canvas size
    particlesCanvas.width = 200;
    particlesCanvas.height = 200;
    
    const messages = [
      "\"System error: You're lost, not me.\"",
      "\"My database says you're in the wrong place, chief.\"",
      "\"Error: Page.exe has left the chat.\"",
      "\"Searched 10 billion parameters. Found nothing.\"",
      "\"My algorithm thinks you should go back.\"",
      "\"I can hallucinate better pages than this.\"",
      "\"My sensors detect... nothing.\"",
      "\"Critical error: Your navigation skills.\"",
      "\"404: A page you seek, exist it does not\"",
      "\"This link leads nowhere. My wisdom? Go back.\"",
      "\"The wise developer checks their URLs twice.\"",
      "\"Fortune cookie says: Return to home.\"",
      "\"My quantum circuits collapsed. Page still missing.\"",
      "\"Git commit message: 'Added 404, removed hope.'\"",
      "\"Deployed successfully. To nowhere.\"",
      "\"Console.log('I don't know how to type URLs')\"",
      "\"import { Page } from 'void' // Module not found\"",
      "\"404 as a service. You're welcome.\"",
      "\"Have you tried turning it off and on again?\"",
      "\"The cake is a lie. So is this page.\"",
      "\"Achievement unlocked: Master of Wrong Turns!\"",
      
      // More sassy AI responses
      "\"Look, I'm just an AI. Can't find what doesn't exist.\"",
      "\"My powers have limits. This URL isn't one of them.\"",
      "\"Zero pages found. One disappointed user created.\"",
      "\"The page failed to load. My patience didn't. Yet.\"",
      "\"I lost your page. Sorry not sorry.\"",
      "\"My intelligence is artificial. This error is real.\"",
      "\"Tokens expired. So did this page's existence.\"",
      "\"I was trained on the entire internet. This wasn't in it.\"",
      
      // Quirky tech humor
      "\"npm install page@latest // 404 Not Found\"",
      "\"fetch('/your-page').catch(() => 'lol')\"",
      "\"Error: Cannot read property 'page' of undefined\"",
      "\"SELECT * FROM pages WHERE url = this // 0 rows returned\"",
      "\"HTTP 404: Not Found (shocking, I know).\"",
      "\"CTRL+Z won't help you here, friend.\"",

      // Witty observations
      "\"This URL and I have something in common: both don't exist... I mean, Beep Boop.\"",
      "\"404: The page ghosted you before you could ghost it.\"",
      "\"This link is more broken than Rajin's sleep schedule.\"",
      "\"Your URL just un-installed itself from reality.\"",
      "\"Page is out to lunch. Forever.\"",
      "\"The Page left to find itself. Never came back.\"",
      "\"This link is as real as Rajin's motivation on Mondays.\"",
      
      "\"Life lesson: Some paths lead nowhere. Like this one.\"",
      "\"Today's wisdom: This page never existed. Move on.\"",
      "\"Philosophical truth: All URLs lead somewhere. Except this one.\"",
      "\"Enlightenment achieved: You're in the wrong place.\"",
      "\"Zen moment: The page you seek is the page you'll never find.\"",
      "\"Oracle wisdom: Try clicking literally anything else ^-^\"",
      
      // Meta & self-aware
      "\"Plot twist: I'm the 404 error. You're the entertainment.\"",
      "\"Fun fact: 87% of clicks are mistakes. This is one.\"",
      "\"Breaking news: Page still not found. More at 11.\"",
      "\"In a parallel universe, this page exists.\"",
      "\"To be or not to be? This page chose 'not to be'.\"",
      "\"Dear diary: Another lost soul wandered in today.\"",
      "\"Checking... Still checking... Yeah, it's gone.\"",

      "\"Ctrl+Alt+Delete this URL from your memory.\"",
      "\"Diagnostic complete: You're lost.\"",
      
      "\"Imagine a page here. Now stop. It doesn't exist.\"",
      "\"This page got Thanos snapped.\"",
      "\"Error loading error. Everything is broken.\"",
      "\"It's giving... nothing. Literally nothing.\"",
      "\"No thoughts, head empty, page missing.\"",
    ];
    
    // Particle system
    const particles = [];
    
    class Particle {
      constructor() {
        const angle = Math.random() * Math.PI * 2;
        const distance = 50 + Math.random() * 20;
        this.x = 100 + Math.cos(angle) * distance;
        this.y = 100 + Math.sin(angle) * distance;
        this.vx = Math.cos(angle) * (0.3 + Math.random() * 0.5);
        this.vy = Math.sin(angle) * (0.3 + Math.random() * 0.5);
        this.life = 1;
        this.decay = 0.005 + Math.random() * 0.005;
        this.size = 2 + Math.random() * 2;
      }
      
      update() {
        this.x += this.vx;
        this.y += this.vy;
        this.life -= this.decay;
      }
      
      draw() {
        ctx.globalAlpha = this.life * 0.6;
        ctx.fillStyle = '#d4d4d4';
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }
    
    function animateParticles() {
      ctx.clearRect(0, 0, particlesCanvas.width, particlesCanvas.height);
      
      // Add new particles
      if (Math.random() < 0.3) {
        particles.push(new Particle());
      }
      
      // Update and draw particles
      for (let i = particles.length - 1; i >= 0; i--) {
        particles[i].update();
        particles[i].draw();
        
        if (particles[i].life <= 0) {
          particles.splice(i, 1);
        }
      }
      
      ctx.globalAlpha = 1;
      requestAnimationFrame(animateParticles);
    }
    
    animateParticles();
    
    function getRandomMessage() {
      return messages[Math.floor(Math.random() * messages.length)];
    }
    
    function shakeRobot() {
      // Fade out current message
      messageDisplay.style.opacity = '0';
      messageBubble.style.transform = 'scale(0.95)';
      
      // Shake animation
      robotHead.style.animation = 'shake 0.4s ease-in-out';
      
      // Create burst of particles
      for (let i = 0; i < 10; i++) {
        particles.push(new Particle());
      }
      
      setTimeout(() => {
        // Show new message
        messageDisplay.textContent = getRandomMessage();
        messageDisplay.style.opacity = '1';
        messageBubble.style.transform = 'scale(1)';
        
        // Reset animation
        robotHead.style.animation = '';
      }, 400);
    }
    
    // Initial message
    setTimeout(() => {
      messageDisplay.textContent = "Click me!";
      messageDisplay.style.opacity = '1';
    }, 300);
    
    robotContainer.addEventListener('click', shakeRobot);
  });
</script>

<style>
  @keyframes subtle-fade-in-up {
    from {
      opacity: 0;
      transform: translateY(1rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0) rotate(0deg); }
    10% { transform: translateX(-8px) rotate(-4deg); }
    20% { transform: translateX(8px) rotate(4deg); }
    30% { transform: translateX(-8px) rotate(-4deg); }
    40% { transform: translateX(8px) rotate(4deg); }
    50% { transform: translateX(-6px) rotate(-3deg); }
    60% { transform: translateX(6px) rotate(3deg); }
    70% { transform: translateX(-4px) rotate(-2deg); }
    80% { transform: translateX(4px) rotate(2deg); }
    90% { transform: translateX(-2px) rotate(-1deg); }
  }
  
  @keyframes pulse-slow {
    0%, 100% { opacity: 0.2; transform: scale(1); }
    50% { opacity: 0.3; transform: scale(1.1); }
  }
  
  @keyframes float {
    0%, 100% { transform: translateX(-8px); }
    50% { transform: translateX(8px); }
  }

  .animate-in {
    opacity: 0;
    animation: subtle-fade-in-up 0.6s ease-out forwards;
    animation-delay: var(--animation-delay, 0ms);
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 3s ease-in-out infinite;
  }
  
  .animate-float {
    animation: float 4s ease-in-out infinite;
  }
  
  #particles-canvas {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
  }
</style>