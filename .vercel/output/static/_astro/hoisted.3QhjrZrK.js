import"./hoisted.BjKdDTeR.js";(function(){function o(){const s=document.getElementById("newsletter-email"),e=document.getElementById("subscribe-button"),t=document.getElementById("checkmark");if(!s||!e||!t){console.error("Newsletter form elements not found");return}e.addEventListener("click",async n=>{n.preventDefault();const i=s.value.trim();if(!i)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){alert("Please enter a valid email address");return}try{e.style.opacity="0.5",e.style.pointerEvents="none";const a=await fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),r=await a.json();a.ok?(e.style.display="none",t.style.display="block",t.classList.add("checkmark-visible"),s.value="",setTimeout(()=>{t.style.display="none",t.classList.remove("checkmark-visible"),e.style.display="block",e.style.opacity="1",e.style.pointerEvents="auto"},2500)):(alert(r.error||"Something went wrong. Please try again."),e.style.opacity="1",e.style.pointerEvents="auto")}catch(a){console.error("Error subscribing:",a),alert("Failed to subscribe. Please try again."),e.style.opacity="1",e.style.pointerEvents="auto"}}),s.addEventListener("keypress",n=>{n.key==="Enter"&&(n.preventDefault(),e.click())})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()})();
